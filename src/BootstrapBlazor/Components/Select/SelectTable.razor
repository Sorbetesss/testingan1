@namespace BootstrapBlazor.Components
@typeparam TItem
@inherits ValidateBase<TItem>

@if (IsShowLabel)
{
    <BootstrapLabel required="@Required" for="@InputId" ShowLabelTooltip="ShowLabelTooltip" Value="@DisplayText" />
}
<div @attributes="AdditionalAttributes" id="@Id" data-bs-toggle="lgbSelect" class="@ClassName">
    <div class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
        <input type="text" id="@InputId" readonly disabled="@Disabled" placeholder="@PlaceHolder" class="@InputClassName" value="@GetText(Value)" />
        <span class="@AppendClassName"><i class="fa fa-angle-up"></i></span>
    </div>
    <CascadingValue Value="this" IsFixed="true">
        @TableColumns?.Invoke(new TItem())
    </CascadingValue>
    <RenderTemplate>
        <div class="dropdown-menu shadow">
            @if (ShowSearch)
            {
                <div class="search">
                    <input type="text" class="search-text form-control" @bind="@SearchText" @bind:event="oninput" />
                    <i class="fa fa-search"></i>
                </div>
            }
            <Table Items="Items" TableColumns="TableColumns" IsFixedHeader="true" IsBordered="true"></Table>
        </div>
        <div class="dropdown-menu-arrow"></div>
    </RenderTemplate>
</div>
