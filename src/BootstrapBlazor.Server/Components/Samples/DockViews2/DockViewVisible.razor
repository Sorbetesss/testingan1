@page "/dock-view2/visible"

<h4>可隐藏的面板</h4>
<p>通过设置 <code>DockComponent</code> 的属性 <code>Visible</code> 控制面板的显示和隐藏</p>

<Button OnClick="OnToggleVisible" Text="切换标签一"></Button>

<DockViewV2 Name="DockViewVisible" OnVisibleStateChangedAsync="OnVisibleStateChangedAsync">
    <DockViewContent Type="DockViewContentType.Column">
        <DockViewComponent Title="标签一" Visible="Visible">
            <div class="panel">Panel1</div>
        </DockViewComponent>
        <DockViewComponent Title="标签二" ShowClose="false">
            <div class="panel">Panel2</div>
        </DockViewComponent>
        <DockViewComponent Title="标签三" ShowClose="false">
            <div class="panel">Panel3</div>
        </DockViewComponent>
    </DockViewContent>
</DockViewV2>

@code {
    private bool Visible { get; set; } = true;

    private void OnToggleVisible()
    {
        Visible = !Visible;
    }

    private Task OnVisibleStateChangedAsync(string title, bool visible)
    {
        if (title == "标签一")
        {
            Visible = visible;
        }
        return Task.CompletedTask;
    }
}
